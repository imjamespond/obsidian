https://www.v2ex.com/t/1066563#reply33

CAP ，共识算法，最终一致性，状态同步，补偿机制，SAGA  
具体是什么取决于面试方想要听到什么，广义的狭义的，过去的现在的，都不一样  
但是总之就是通过各种手段在分布式环境下确保“正确”

--- 
分布式事务是指在分布式系统中，涉及多个数据库或服务节点的事务操作。在传统的单体应用中，事务通常由单个数据库管理，比较容易实现事务的一致性。但在分布式环境下，由于数据和操作分布在不同的节点上，事务的管理变得更加复杂。  
  
分布式事务通常具有以下特点：  
1. 多个数据源：涉及多个独立的数据库或数据存储节点。  
2. 跨服务调用：可能跨越多个不同的服务，每个服务可能有自己的事务管理机制。  
3. 数据一致性挑战：确保在多个节点上的数据操作要么全部成功，要么全部回滚，以保持数据的一致性。  
  
常见的分布式事务场景包括：  
1. 微服务架构：不同的微服务之间进行数据交互和业务操作时，可能需要保证事务的一致性。例如，在一个电商系统中，订单服务和库存服务分别在不同的微服务中，当创建订单时，需要同时减少库存，这就需要分布式事务来保证两个操作的一致性。  
2. 系统集成：多个独立的系统进行对接和数据同步时，也可能需要处理分布式事务。比如，企业内部的不同业务系统之间进行数据交换，要确保数据的完整性和一致性。  
  
实现分布式事务的方法有多种，常见的有两阶段提交（ 2PC ）、三阶段提交（ 3PC ）、补偿事务（ TCC ）、基于消息队列的最终一致性等。这些方法各有优缺点，需要根据具体的业务场景和需求进行选择。  
  
在面试中，如果被问到分布式事务场景，可以更加具体地阐述一些实际的业务例子，比如电商订单与库存的管理、银行转账系统中不同账户之间的资金转移等，并且可以简要介绍一下实现分布式事务的方法和思路。这样可以让面试官更好地了解你的知识深度和解决实际问题的能力。

--- 
事务和线程很相似，但又不是很相似。得先认识到并发线程原子性和事务原子性的区别。  
  
一个是不可打断，不可继续分割；一个是存在回退机制，不会出现”错误数据“。  
  
其它的就可以利用你”如何安全的并发编程“相关理论，来认识分布式事务。就像一个变量参与多个线程，一个数据同步到多个数据库。  
  
你是如何控制这个变量在多个线程同步的？  
- 锁：最简单的阻塞，同步  
- 协程：有局限性但很合适的调度  
- 事件/回调：可用但也仅仅可用  
  
你又是如何控制这个服务在多个数据库保存操作中不会部分成功，部分失败的?  
- 多个事务当然也可以阻塞：一致性拉满，可用性降低，与线程锁的特性高度一致。  
- 多个事务当然也可以协作：可用性提高，一致性降低。倾斜程度根据协作方式而定，  
- 多个事务当然也可以回调：或许就是最终一致性了，到回调完成那一刻，数据才会变得正确。